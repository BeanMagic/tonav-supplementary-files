<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>TrackMe library: TrackMe library documentation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">TrackMe library
   </div>
   <div id="projectbrief">A simple library for short-time inertial navigation using an accelerometer, gyroscope and a magnetometer.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">TrackMe library documentation </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The TrackMe library is a C++11 library for fusing the accelerometer, the gyroscope, and the magnetometer sensors into the displacement and orientation of a device. The library does not have any external dependencies.</p>
<p>For the public interface of the library, see the <a class="el" href="class_track_me_1_1_tracker.html">TrackMe::Tracker</a> class.</p>
<p>The incoming sensor events are placed into a thread-safe blocking queue and the library processes this queue in a different thread.</p>
<p>The communication between the library and an application is performed through a system of callback functions. The callbacks have to be set before the software receives any sensor events. The callbacks will be called from the inner thread of the library, thus the receiving function has to ensure mutual exclusion. It can be achieved, for instance, by the same blocking queue used for the incoming events. This structure can be found in the <a class="el" href="_blocking_deque_8hpp_source.html">BlockingDeque.hpp</a> file.</p>
<p>Usage of the library is very straightforward:</p><ul>
<li>Include the <code><a class="el" href="_track_me_8hpp_source.html">TrackMe.hpp</a></code> header.</li>
<li>Instantiate the <code>SensorEvent</code> template for your platform, or use the AndroidEvent.</li>
<li>Create an object of type Tracker&lt;SensorEvent&gt;.</li>
<li>Set Tracker callbacks for the variables you need.</li>
<li>Push events to the Tracker using the <code>receiveEvent()</code> function.</li>
</ul>
<p>Example - load Android events from the standard input stream: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;vector&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &quot;TrackMe.hpp&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;AndroidEvent.hpp&quot;</span></div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespace_track_me.html">TrackMe</a>;</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> printDisplacement(<span class="keyword">const</span> <a class="code" href="class_track_me_1_1_android_event.html">AndroidEvent</a> &amp;event)</div><div class="line">{</div><div class="line">  <span class="keyword">using</span> ArrayMatrix::operator&lt;&lt;;</div><div class="line">  std::cout &lt;&lt; <span class="stringliteral">&quot;Displacement in time &quot;</span></div><div class="line">            &lt;&lt; <span class="keyword">event</span>.timestamp</div><div class="line">            &lt;&lt; <span class="stringliteral">&quot; is [&quot;</span> &lt;&lt; <span class="keyword">event</span>.value &lt;&lt; <span class="stringliteral">&quot;].\n&quot;</span>;</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> ** argv)</div><div class="line">{</div><div class="line">   <span class="comment">// initialization</span></div><div class="line">  <a class="code" href="class_track_me_1_1_tracker.html">Tracker&lt;AndroidEvent&gt;</a> tracker;</div><div class="line">   <span class="comment">// try to read a configuration file</span></div><div class="line">  tracker.<a class="code" href="class_track_me_1_1_tracker.html#a2e3d0f9aed5ac5c633a41ae43af01c17">config</a>().<a class="code" href="class_configuration.html#adf18896cbf02b718b17a062bc6e158b1">loadFile</a>(<span class="stringliteral">&quot;trackme_config.txt&quot;</span>);</div><div class="line">   <span class="comment">// set a callback for printing the displacement on the standard output</span></div><div class="line">  tracker.<a class="code" href="class_track_me_1_1_tracker.html#acaa19b34c4d71955b016ea14c98c31cd">setDisplacementCallback</a>(printDisplacement);</div><div class="line"></div><div class="line">   <span class="comment">// load events from the standard input</span></div><div class="line">  std::vector&lt;char&gt; buffer(<a class="code" href="class_track_me_1_1_android_event.html#a55b541f976ad7d04e8320f33d517dee9">AndroidEvent::byteArraySize</a>);</div><div class="line">  <span class="keywordflow">while</span> (std::cin.read(buffer.data(), <a class="code" href="class_track_me_1_1_android_event.html#a55b541f976ad7d04e8320f33d517dee9">AndroidEvent::byteArraySize</a>)) {</div><div class="line">    <span class="keyword">auto</span> <span class="keyword">event</span> = <a class="code" href="class_track_me_1_1_android_event.html#a5b4072218419f75618532ccf7bdb4994">AndroidEvent::fromByteArray</a>(buffer);</div><div class="line">    tracker.<a class="code" href="class_track_me_1_1_tracker.html#ae2f4491387c2a271a310893776c991d3">receiveEvent</a>(event);</div><div class="line">  }</div><div class="line"></div><div class="line">  <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --> </div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Feb 29 2016 16:15:02 for TrackMe library by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
